# Tumiki Sample Project ğŸš€

Rails + React + MySQL + MinIO + motoï¼ˆCognitoä»£æ›¿ï¼‰ã‚’ä½¿ç”¨ã—ãŸãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯é–‹ç™ºç’°å¢ƒ

[![Docker](https://img.shields.io/badge/Docker-Ready-blue.svg)](https://docker.com)
[![Rails](https://img.shields.io/badge/Rails-7.0-red.svg)](https://rubyonrails.org)
[![React](https://img.shields.io/badge/React-18-blue.svg)](https://reactjs.org)
[![Tsumiki](https://img.shields.io/badge/Tsumiki-AI%20Driven-green.svg)](https://github.com/small-java-world/tumiki-sample-project)

## ğŸ“‹ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ã€**Tsumiki AIé–‹ç™ºãƒ„ãƒ¼ãƒ«**ã‚’æ´»ç”¨ã—ãŸãƒ¢ãƒ€ãƒ³ãªãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ã™ã€‚Docker Composeã‚’ä½¿ç”¨ã—ã¦ã€é–‹ç™ºã«å¿…è¦ãªã™ã¹ã¦ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã§ç°¡å˜ã«èµ·å‹•ã§ãã¾ã™ã€‚

### ğŸ¯ ç‰¹å¾´

- **ğŸ¤– AIé§†å‹•é–‹ç™º**: 21ç¨®é¡ã®Tsumikiã‚³ãƒãƒ³ãƒ‰ã§AIæ”¯æ´é–‹ç™º
- **ğŸ“¦ ã‚³ãƒ³ãƒ†ãƒŠåŒ–**: Docker Composeã§çµ±ä¸€ã•ã‚ŒãŸé–‹ç™ºç’°å¢ƒ
- **ğŸŒ ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯**: Rails API + React SPAæ§‹æˆ
- **ğŸ—„ï¸ å®Œå…¨DB**: MySQL + MinIO S3äº’æ›ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸
- **ğŸ” èªè¨¼å¯¾å¿œ**: motoï¼ˆCognitoä»£æ›¿ï¼‰
- **ğŸ“ æ—¥æœ¬èªå¯¾å¿œ**: åŒ…æ‹¬çš„ãªæ—¥æœ¬èªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

## ğŸ› ï¸ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### Backend
- **Ruby 3.2.9** + **Rails 7.0**
- **MySQL 8.0** - ãƒ¡ã‚¤ãƒ³ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
- **MinIO** - S3äº’æ›ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸
- **moto** - AWS Cognitoä»£æ›¿ï¼ˆèªè¨¼ï¼‰
- **RSpec** + **FactoryBot** - ãƒ†ã‚¹ãƒˆç’°å¢ƒ

### Frontend  
- **React 18** + **Node.js 18**
- **Create React App** - é–‹ç™ºç’°å¢ƒ
- **Proxyè¨­å®š** - Rails APIã¨ã®é€£æº

### Infrastructure
- **Docker** + **Docker Compose**
- **Debian Bullseye** - ã‚³ãƒ³ãƒ†ãƒŠãƒ™ãƒ¼ã‚¹OS

### AI Development Tools
- **Tsumiki** - AIé§†å‹•é–‹ç™ºã‚³ãƒãƒ³ãƒ‰é›†
- **Claude Dev** - VS Codeæ‹¡å¼µæ©Ÿèƒ½å¯¾å¿œ

## ğŸš€ ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

### å‰ææ¡ä»¶

- **Docker** & **Docker Compose** ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿
- **Git** ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿  
- **VS Code** (æ¨å¥¨)

### 1. ãƒªãƒã‚¸ãƒˆãƒªã‚¯ãƒ­ãƒ¼ãƒ³

```bash
git clone https://github.com/small-java-world/tumiki-sample-project.git
cd tumiki-sample-project
```

### 2. é–‹ç™ºç’°å¢ƒèµ·å‹•

```bash
# å…¨ã‚µãƒ¼ãƒ“ã‚¹èµ·å‹•
docker compose up --build

# ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰èµ·å‹•
docker compose up -d --build
```

### 3. ã‚µãƒ¼ãƒ“ã‚¹ç¢ºèª

| ã‚µãƒ¼ãƒ“ã‚¹ | URL | èª¬æ˜ |
|---------|-----|------|
| **React Frontend** | http://localhost:3001 | Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ |
| **Rails Backend** | http://localhost:3000 | REST API |
| **MinIO Console** | http://localhost:9003 | ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ç®¡ç†ç”»é¢ |
| **MySQL** | localhost:3306 | ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶š |

## ğŸ“ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ

```
tumiki-sample-project/
â”œâ”€â”€ .claude/commands/          # Tsumiki AIã‚³ãƒãƒ³ãƒ‰é›†ï¼ˆ21å€‹ï¼‰
â”‚   â”œâ”€â”€ kairo-*.md            # è¦ä»¶â†’å®Ÿè£…ãƒ•ãƒ­ãƒ¼
â”‚   â”œâ”€â”€ tdd-*.md              # ãƒ†ã‚¹ãƒˆé§†å‹•é–‹ç™º
â”‚   â””â”€â”€ rev-*.md              # ãƒ¬ãƒ“ãƒ¥ãƒ¼ç³»ã‚³ãƒãƒ³ãƒ‰
â”œâ”€â”€ backend/                   # Rails API
â”‚   â”œâ”€â”€ Dockerfile            # Railsç”¨Dockerãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â”œâ”€â”€ Gemfile               # Rubyä¾å­˜é–¢ä¿‚
â”‚   â”œâ”€â”€ config/               # Railsè¨­å®š
â”‚   â”‚   â”œâ”€â”€ database.yml      # DBæ¥ç¶šè¨­å®š
â”‚   â”‚   â”œâ”€â”€ storage.yml       # MinIOè¨­å®š
â”‚   â”‚   â””â”€â”€ initializers/     # åˆæœŸåŒ–å‡¦ç†
â”‚   â”œâ”€â”€ bin/rails             # Railså®Ÿè¡Œãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â””â”€â”€ spec/                 # RSpecãƒ†ã‚¹ãƒˆ
â”œâ”€â”€ frontend/                  # React SPA
â”‚   â”œâ”€â”€ package.json          # Node.jsä¾å­˜é–¢ä¿‚
â”‚   â”œâ”€â”€ src/                  # Reactã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰
â”‚   â””â”€â”€ public/               # é™çš„ãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ docker-compose.yml         # ã‚µãƒ¼ãƒ“ã‚¹å®šç¾©
â”œâ”€â”€ .gitignore                # Gité™¤å¤–è¨­å®šï¼ˆæœ€é©åŒ–æ¸ˆã¿ï¼‰
â””â”€â”€ README.md                 # ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«
```

## ğŸ¤– Tsumiki AI ã‚³ãƒãƒ³ãƒ‰æ´»ç”¨

### ä¸»è¦ã‚³ãƒãƒ³ãƒ‰

```bash
# è¦ä»¶å®šç¾©â†’è¨­è¨ˆâ†’å®Ÿè£…ãƒ•ãƒ­ãƒ¼
.claude/commands/kairo-requirements.md    # è¦ä»¶æ•´ç†
.claude/commands/kairo-design.md          # è¨­è¨ˆä½œæˆ
.claude/commands/kairo-implement.md       # å®Ÿè£…æ”¯æ´

# ãƒ†ã‚¹ãƒˆé§†å‹•é–‹ç™º
.claude/commands/tdd-requirements.md      # ãƒ†ã‚¹ãƒˆè¦ä»¶
.claude/commands/tdd-red.md               # Redï¼ˆå¤±æ•—ãƒ†ã‚¹ãƒˆï¼‰
.claude/commands/tdd-green.md             # Greenï¼ˆå®Ÿè£…ï¼‰
.claude/commands/tdd-refactor.md          # Refactorï¼ˆãƒªãƒ•ã‚¡ã‚¯ã‚¿ï¼‰

# ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ»æ¤œè¨¼
.claude/commands/rev-requirements.md      # è¦ä»¶ãƒ¬ãƒ“ãƒ¥ãƒ¼
.claude/commands/rev-design.md            # è¨­è¨ˆãƒ¬ãƒ“ãƒ¥ãƒ¼
.claude/commands/rev-specs.md             # ä»•æ§˜æ›¸ãƒ¬ãƒ“ãƒ¥ãƒ¼
```

### VS Code + Claude Dev é€£æº

1. **Claude Devæ‹¡å¼µæ©Ÿèƒ½** ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿
2. **ã‚³ãƒãƒ³ãƒ‰ãƒ‘ãƒ¬ãƒƒãƒˆ**: `Ctrl+Shift+P` â†’ `Claude Dev: Start Chat`
3. **Tsumikiã‚³ãƒãƒ³ãƒ‰**: `.claude/commands/` å†…ã®Markdownãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‚ç…§
4. **AIæ”¯æ´é–‹ç™º**: ãƒ•ã‚¡ã‚¤ãƒ«ç·¨é›†ãƒ»ãƒ‡ãƒãƒƒã‚°ãƒ»ã‚³ãƒ¼ãƒ‰ç”Ÿæˆ

## ğŸ”§ é–‹ç™ºã‚³ãƒãƒ³ãƒ‰

### Dockeræ“ä½œ

```bash
# ã‚µãƒ¼ãƒ“ã‚¹èµ·å‹•
docker compose up --build

# ç‰¹å®šã‚µãƒ¼ãƒ“ã‚¹ã®ã¿
docker compose up backend db minio

# ãƒ­ã‚°ç¢ºèª
docker compose logs backend
docker compose logs frontend

# ã‚³ãƒ³ãƒ†ãƒŠçŠ¶æ³ç¢ºèª
docker compose ps

# åœæ­¢ãƒ»ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
docker compose down
docker compose down --volumes  # ãƒœãƒªãƒ¥ãƒ¼ãƒ ã‚‚å‰Šé™¤
```

### å€‹åˆ¥ã‚µãƒ¼ãƒ“ã‚¹ãƒ†ã‚¹ãƒˆ

```bash
# Backendï¼ˆRailsï¼‰ãƒ†ã‚¹ãƒˆ
docker compose exec backend bundle exec rspec

# Frontendï¼ˆReactï¼‰é–‹ç™ºã‚µãƒ¼ãƒãƒ¼
docker compose exec frontend npm start

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶š
docker compose exec db mysql -u myapp -p
```

## ğŸŒ ã‚µãƒ¼ãƒ“ã‚¹è©³ç´°

### ğŸ”´ Backendï¼ˆRails APIï¼‰
- **ãƒãƒ¼ãƒˆ**: 3000
- **ç’°å¢ƒå¤‰æ•°**: `backend/.env.development`
- **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹**: MySQLï¼ˆ`myapp_development`ï¼‰
- **ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸**: MinIO S3äº’æ›
- **èªè¨¼**: moto/Cognito

### ğŸ”µ Frontendï¼ˆReact SPAï¼‰
- **ãƒãƒ¼ãƒˆ**: 3001  
- **ãƒ—ãƒ­ã‚­ã‚·**: Rails APIï¼ˆlocalhost:3000ï¼‰
- **ç’°å¢ƒå¤‰æ•°**: `frontend/.env.development`
- **ãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«**: Create React App

### ğŸ—„ï¸ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ï¼ˆMySQLï¼‰
- **ãƒãƒ¼ãƒˆ**: 3306
- **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹**: `myapp_development`
- **ãƒ¦ãƒ¼ã‚¶ãƒ¼**: `myapp` / `myapp_pass`
- **ãƒœãƒªãƒ¥ãƒ¼ãƒ **: `db-data`ï¼ˆæ°¸ç¶šåŒ–ï¼‰

### ğŸ“¦ ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ï¼ˆMinIOï¼‰
- **API**: http://localhost:9000
- **ç®¡ç†ç”»é¢**: http://localhost:9003
- **èªè¨¼**: `minioadmin` / `minioadmin`
- **ãƒã‚±ãƒƒãƒˆ**: `myapp-bucket`
- **ãƒœãƒªãƒ¥ãƒ¼ãƒ **: `minio-data`ï¼ˆæ°¸ç¶šåŒ–ï¼‰

### ğŸ” èªè¨¼ï¼ˆmoto/Cognitoï¼‰
- **ãƒãƒ¼ãƒˆ**: 5000
- **ç”¨é€”**: AWS Cognito APIä»£æ›¿
- **è¨­å®š**: `backend/config/initializers/cognito.rb`

## ğŸ› ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºç­–

#### ãƒãƒ¼ãƒˆç«¶åˆã‚¨ãƒ©ãƒ¼
```bash
Error: port is already allocated
```
**è§£æ±º**: ä½¿ç”¨ä¸­ã®ãƒãƒ¼ãƒˆã‚’ç¢ºèªãƒ»åœæ­¢
```bash
# Windows
netstat -ano | findstr :3001
taskkill /PID <PID> /F

# å®Œå…¨ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
docker compose down --volumes
docker system prune -a
```

#### ã‚³ãƒ³ãƒ†ãƒŠãƒ“ãƒ«ãƒ‰å¤±æ•—
```bash
bundle install ã‚¨ãƒ©ãƒ¼ / npm install ã‚¨ãƒ©ãƒ¼
```
**è§£æ±º**: ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚¯ãƒªã‚¢ + å†ãƒ“ãƒ«ãƒ‰
```bash
docker compose build --no-cache
docker compose up --build
```

#### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šã‚¨ãƒ©ãƒ¼
```bash
Access denied for user 'myapp'
```
**è§£æ±º**: ç’°å¢ƒå¤‰æ•°ã¨ãƒœãƒªãƒ¥ãƒ¼ãƒ ç¢ºèª
```bash
# è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ç¢ºèª
cat backend/.env.development
cat backend/config/database.yml

# DBå†åˆæœŸåŒ–
docker compose down --volumes
docker compose up db
```

## ğŸ“ é–‹ç™ºã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

### Git ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

```bash
# æ©Ÿèƒ½ãƒ–ãƒ©ãƒ³ãƒä½œæˆ
git checkout -b feature/æ–°æ©Ÿèƒ½å

# ã‚³ãƒŸãƒƒãƒˆï¼ˆæ¨å¥¨å½¢å¼ï¼‰
git commit -m "feat: æ–°æ©Ÿèƒ½ã®èª¬æ˜

ğŸš€ Features:
- å…·ä½“çš„ãªå¤‰æ›´å†…å®¹

âœ… Tests:
- ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹è¿½åŠ "

# ãƒ—ãƒƒã‚·ãƒ¥ãƒ»ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆ
git push origin feature/æ–°æ©Ÿèƒ½å  
```

### ã‚³ãƒ¼ãƒ‰è¦ç´„

- **Rails**: RuboCopæº–æ‹ 
- **React**: ESLint + Prettier
- **ã‚³ãƒŸãƒƒãƒˆ**: Conventional Commits
- **ãƒ†ã‚¹ãƒˆ**: RSpecï¼ˆBackendï¼‰+ Jestï¼ˆFrontendï¼‰

## ğŸ¤ ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³

1. **Issues**: ãƒã‚°å ±å‘Šãƒ»æ©Ÿèƒ½è¦æœ›
2. **Pull Requests**: ã‚³ãƒ¼ãƒ‰æ”¹å–„ãƒ»æ–°æ©Ÿèƒ½
3. **Discussions**: ã‚¢ã‚¤ãƒ‡ã‚¢ãƒ»è³ªå•ãƒ»è­°è«–
4. **Starâ­**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå¿œæ´

## ğŸ“„ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ **MIT License** ã®ä¸‹ã§å…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚

## ğŸ”— é–¢é€£ãƒªãƒ³ã‚¯

- **GitHub**: https://github.com/small-java-world/tumiki-sample-project
- **Rails Guide**: https://guides.rubyonrails.org/
- **React Docs**: https://react.dev/
- **Docker Docs**: https://docs.docker.com/
- **Tsumiki**: AIé§†å‹•é–‹ç™ºãƒ„ãƒ¼ãƒ«

---

## ğŸ“ˆ é–‹ç™ºãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—

### Phase 1: åŸºç›¤æ§‹ç¯‰ âœ…
- [x] Dockerç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
- [x] Rails + ReactåŸºæœ¬æ§‹æˆ  
- [x] ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ»ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸è¨­å®š
- [x] Tsumikiã‚³ãƒãƒ³ãƒ‰çµ±åˆ
- [x] GitHubé€£æº

### Phase 2: æ©Ÿèƒ½é–‹ç™º ğŸš§
- [ ] ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼ã‚·ã‚¹ãƒ†ãƒ 
- [ ] ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æ©Ÿèƒ½
- [ ] RESTful APIè¨­è¨ˆ
- [ ] ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ç”»é¢å®Ÿè£…

### Phase 3: æ‹¡å¼µãƒ»æœ€é©åŒ– ğŸ“‹
- [ ] ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸å‘ä¸Š
- [ ] CI/CD ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–
- [ ] ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ–

---

**ğŸ‰ Happy Coding with Tsumiki AI Development! ğŸ¤–âœ¨**